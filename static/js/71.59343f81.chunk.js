"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[71],{2071:function(n,e,t){t.r(e),t.d(e,{default:function(){return Mn}});var r,i,o,a,s,c,u=t(9439),d=t(2791),p=t(9434),m=t(4270),l=t(5036),h=t(6916),f=function(n){return n.filter},x=function(n){return n.contacts.items},g=function(n){return n.contacts.isLoading},b=function(n){return n.contacts.error},j=(0,h.P1)([x,f],(function(n,e){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))})),Z=t(6355),z=t(9126),v=t(5218),w=t(5984),y=t(168),S=t(6088),C=t(8445),q=t(1607),k=S.Z.form(r||(r=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),A=S.Z.label(i||(i=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return q.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),T=S.Z.input(o||(o=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return q.r.fontSizes.m}),(function(n){return q.r.fontSizes.s})),F=S.Z.div(a||(a=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),I=(0,S.Z)(C.O)(s||(s=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),N=S.Z.p(c||(c=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),P=t(5705),W=t(2797),E=t(2007),L=t.n(E),R=t(111),B=t(184),U=W.Ry().shape({name:W.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:W.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),_=function(n){var e=n.onAdd,t=(0,p.v9)(x),r=(0,p.I0)(),i=(0,P.TA)({initialValues:{name:"",number:""},validationSchema:U,onSubmit:function(n,i){var o=n.name,a=n.number,s=i.resetForm;console.log(o,a);var c=o.toLowerCase(),u=t.find((function(n){return n.name.toLowerCase()===c}));if(u)return(0,v.ZP)("".concat(o," is already in contacts."),{icon:"\u2139\ufe0f"});var d={name:o,number:a};r((0,l.uK)(d)),v.ZP.success("Contact added!"),e(),s()}}),o=i.values,a=i.errors,s=i.touched,c=i.handleBlur,u=i.handleChange,d=i.handleSubmit,m=(0,w.x0)(),h=(0,w.x0)();return(0,B.jsxs)(k,{onSubmit:d,children:[(0,B.jsx)(R.x,{fontSize:q.r.fontSizes.l,fontWeight:q.r.fontWeights.bold,as:"strong",children:"Create new contact"}),(0,B.jsxs)(A,{htmlFor:m,children:["Name",(0,B.jsx)(F,{children:(0,B.jsx)(Z.dfI,{size:15})}),(0,B.jsx)(T,{type:"text",name:"name",id:m,value:o.name,placeholder:"Alexander Repeta",onChange:u,onBlur:c}),a.name&&s.name&&(0,B.jsx)(N,{children:a.name})]}),(0,B.jsxs)(A,{htmlFor:h,children:["Phone number",(0,B.jsx)(F,{children:(0,B.jsx)(Z.DNl,{size:14})}),(0,B.jsx)(T,{type:"tel",name:"number",id:h,value:o.number,placeholder:"+38-(012)-345-67-89",onChange:u,onBlur:c}),a.number&&s.number&&(0,B.jsx)(N,{children:a.number})]}),(0,B.jsxs)(I,{type:"submit",children:["Add contact",(0,B.jsx)(z.im1,{})]})]})},V=_;_.propsType={onAdd:L().func.isRequired};var D,G,M,O,H,J,K,$,Y,Q,X,nn,en,tn=t(4164),rn=S.Z.div(D||(D=(0,y.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n    "])),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.sizes.minWidth}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box})),on=document.querySelector("#modal-root"),an=function(n){var e=n.onClose,t=n.children;(0,d.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,tn.createPortal)((0,B.jsx)(R.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,B.jsx)(rn,{children:t})}),on)},sn=S.Z.form(G||(G=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),cn=S.Z.label(M||(M=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return q.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),un=S.Z.input(O||(O=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return q.r.fontSizes.m}),(function(n){return q.r.fontSizes.s})),dn=S.Z.div(H||(H=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),pn=(0,S.Z)(C.O)(J||(J=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),mn=S.Z.p(K||(K=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),ln=W.Ry().shape({name:W.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:W.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),hn=function(n){var e=n.onUpdate,t=n.id,r=(0,p.v9)(x),i=(0,p.I0)(),o=r.filter((function(n){return n.id===t})),a=(0,P.TA)({initialValues:{name:o[0].name,number:o[0].number},validationSchema:ln,onSubmit:function(n,r){var o=n.name,a=n.number,s=r.resetForm;console.log(o,a);var c={id:t,name:o,number:a};i((0,l.Tk)(c)),v.ZP.success("Contact updated"),e(),s()}}),s=a.values,c=a.errors,u=a.touched,d=a.handleBlur,m=a.handleChange,h=a.handleSubmit,f=(0,w.x0)(),g=(0,w.x0)();return(0,B.jsxs)(sn,{onSubmit:h,children:[(0,B.jsx)(R.x,{fontSize:q.r.fontSizes.l,fontWeight:q.r.fontWeights.bold,as:"strong",children:"Enter your changes"}),(0,B.jsxs)(cn,{htmlFor:f,children:["Name",(0,B.jsx)(dn,{children:(0,B.jsx)(Z.dfI,{size:15})}),(0,B.jsx)(un,{type:"text",name:"name",id:f,value:s.name,placeholder:"Alexander Repeta",onChange:m,onBlur:d}),c.name&&u.name&&(0,B.jsx)(mn,{children:c.name})]}),(0,B.jsxs)(cn,{htmlFor:g,children:["Phone number",(0,B.jsx)(dn,{children:(0,B.jsx)(Z.DNl,{size:14})}),(0,B.jsx)(un,{type:"tel",name:"number",id:g,value:s.number,placeholder:"+38-(012)-345-67-89",onChange:m,onBlur:d}),c.number&&u.number&&(0,B.jsx)(mn,{children:c.number})]}),(0,B.jsx)(pn,{type:"submit",children:"Update"})]})},fn=hn;hn.propsType={onUpdate:L().func.isRequired};var xn,gn,bn,jn,Zn,zn,vn=S.Z.div($||($=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;   \n\n    "," {\n        gap: ","px; \n    }; \n\n    "," {\n        gap: ","px; \n    };\n"])),(function(n){return n.theme.space[2]}),q.mq[1],(function(n){return n.theme.space[3]}),q.mq[2],(function(n){return n.theme.space[4]})),wn=S.Z.img(Y||(Y=(0,y.Z)(["\n    border-radius: 50%;\n    overflow: hidden;\n    /* background-color: #f4f4f4; */\n    background-color: ",";\n    width: 30px;\n\n    "," {\n        width: 40px;\n        };\n\n    "," {\n        width: 50px;\n        };    \n"])),(function(n){return n.theme.colors.accent}),q.mq[0],q.mq[1]),yn=S.Z.p(Q||(Q=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n    font-size: ",";\n    text-align: left;\n\n    "," {\n        font-size: ",";\n        }; \n\n    "," {\n        font-size: ",";\n        };    \n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.fontSizes.xs}),q.mq[1],(function(n){return n.theme.fontSizes.s}),q.mq[2],(function(n){return n.theme.fontSizes.m})),Sn=S.Z.p(X||(X=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n    font-size: ",";\n\n    "," {\n        font-size: ",";\n        };\n\n    "," {\n        font-size: ",";\n        };    \n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.fontSizes.xs}),q.mq[1],(function(n){return n.theme.fontSizes.s}),q.mq[2],(function(n){return n.theme.fontSizes.m})),Cn=S.Z.div(nn||(nn=(0,y.Z)(["\n    display:flex;\n    align-items:center;\n    gap: ","px;\n\n    "," {\n       gap: ","px;  \n    };\n\n    "," {\n       gap: ","px;  \n    };\n"])),(function(n){return n.theme.space[1]}),q.mq[0],(function(n){return n.theme.space[2]}),q.mq[1],(function(n){return n.theme.space[3]})),qn=(0,S.Z)(C.O)(en||(en=(0,y.Z)(["\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n\n    "," {\n        padding-top: ","px;\n        padding-bottom: ","px;\n        padding-left: ","px;\n        padding-right: ","px; \n    };\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),q.mq[0],(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]})),kn=t(8820),An=t(6856),Tn=t(1578),Fn=t(4792),In=function(n){var e=n.id,t=n.name,r=n.number,i=(0,p.I0)(),o=(0,Fn.ac)("(min-width: 320px)"),a=(0,d.useState)(!1),s=(0,u.Z)(a,2),c=s[0],m=s[1],h=function(){return m((function(n){return!n}))};return(0,B.jsxs)(R.x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsxs)(vn,{children:[(0,B.jsx)(wn,{src:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png",alt:"avatar"}),(0,B.jsxs)(R.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",gridGap:[1,2],minWidth:"114px",children:[(0,B.jsxs)(yn,{children:[(0,B.jsx)(z.HHm,{}),t]}),(0,B.jsxs)(Sn,{children:[(0,B.jsx)(An.REU,{}),r]})]})]}),(0,B.jsxs)(Cn,{children:[(0,B.jsx)(qn,{type:"button",children:(0,B.jsx)(Tn.ri8,{size:o?"18":"15"})}),(0,B.jsx)(qn,{type:"button",onClick:h,"aria-label":"Edit contact",children:(0,B.jsx)(An.mM_,{size:o?"18":"15"})}),(0,B.jsx)(qn,{type:"button",onClick:function(){return i((0,l.GK)(e))},children:(0,B.jsx)(kn.VPh,{size:o?"18":"15"})})]}),c&&(0,B.jsx)(an,{onClose:h,children:(0,B.jsx)(fn,{onUpdate:h,id:e})})]})},Nn=S.Z.ul(xn||(xn=(0,y.Z)(["\n    position: relative;\n    max-width: ",";\n    margin: 0 auto 8px auto;\n    background-color: ",";\n    padding: ","px;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    border-radius: ",";\n    box-shadow: ",";\n\n    text-align: center;\n\n    "," {\n        margin-bottom: ","px;\n        };\n"])),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box}),q.mq[2],(function(n){return n.theme.space[4]})),Pn=S.Z.li(gn||(gn=(0,y.Z)(["\n    width: 100%;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    \n    font-size: ",";\n\n    transform: scale(1);\n    transition: ",";\n\n    :not(:first-of-type){\n       border-top: ","; \n    }\n\n    :hover{\n        position: absolute;\n        transform: scale(1.02);\n        width: 100%;\n        right: 0;\n        z-index: 2;\n        padding: ","px;\n        padding-top: ","px;\n        padding-bottom: ","px;\n        \n        border-top: ","; \n        border-radius: ",";\n        box-shadow: ",";\n\n        background-color: ",";\n    } \n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box}),(function(n){return n.theme.colors.white})),Wn=S.Z.p(bn||(bn=(0,y.Z)(["\n    color: ",";\n    text-align: center;\n    font-weight: ",";\n    font-size: ",";\n\n    "," {\n        font-size: ",";\n        }; \n\n    "," {\n        font-size: ",";\n        }; \n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontWeights.medium}),(function(n){return n.theme.fontSizes.xs}),q.mq[1],(function(n){return n.theme.fontSizes.s}),q.mq[2],(function(n){return n.theme.fontSizes.m})),En=function(){var n=(0,p.v9)(j);return(0,B.jsx)(B.Fragment,{children:n.length>0?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Nn,{children:n.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,B.jsx)(Pn,{children:(0,B.jsx)(In,{id:e,name:t,number:r})},e)}))}),(0,B.jsxs)(Wn,{children:["Total contacs: ",n.length]})]}):(0,B.jsx)(Nn,{children:"There are no contacts"})})},Ln=t(5653),Rn=S.Z.label(jn||(jn=(0,y.Z)(["\n    position: relative;\n    width: 100%;\n"]))),Bn=S.Z.input(Zn||(Zn=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    font: inherit;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n    \n    background-color: inherit;\n\n    transition: ",";\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.fontSizes.s})),Un=S.Z.div(zn||(zn=(0,y.Z)(["\n    position: absolute;\n    top: 15px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),_n=t(2609),Vn=t(3728),Dn=function(n){var e=n.onClick,t=(0,p.v9)(f),r=(0,p.I0)();return(0,B.jsxs)(R.x,{display:"flex",alignItems:"center",justifyContaent:"center",gridGap:[2,2,3],maxWidth:q.r.sizes.mediumWidth,mb:3,mx:"auto",p:3,textAlign:"left",borderRadius:q.r.radii.box,boxShadow:q.r.shadows.box,backgroundColor:q.r.colors.white,children:[(0,B.jsxs)(Rn,{htmlFor:"",children:[(0,B.jsx)(Un,{children:(0,B.jsx)(Vn.Vph,{size:17})}),(0,B.jsx)(Bn,{type:"text",value:t,placeholder:"Search by name",onChange:function(n){r((0,Ln.T)(n.currentTarget.value))}})]}),(0,B.jsx)(_n.z,{onClick:e,"aria-label":"Add contact",children:(0,B.jsx)(z.im1,{size:18})})]})};Dn.propsType={onClick:L().func.isRequired};var Gn=t(854);function Mn(){var n=(0,p.I0)(),e=(0,p.v9)(g),t=(0,p.v9)(b),r=(0,d.useState)(!1),i=(0,u.Z)(r,2),o=i[0],a=i[1],s=function(){return a((function(n){return!n}))};(0,d.useEffect)((function(){n((0,l.yF)()),t&&v.ZP.error("No response from server!")}),[n,t]);var c=e&&!t;return(0,B.jsxs)(R.x,{p:"16px 0",as:"main",children:[(0,B.jsx)(m.q,{children:(0,B.jsx)("title",{children:"Your contacts"})}),(0,B.jsx)(Dn,{onClick:s}),c?(0,B.jsx)(Gn.a,{}):(0,B.jsx)(En,{}),o&&(0,B.jsx)(an,{onClose:s,children:(0,B.jsx)(V,{onAdd:s})})]})}}}]);
//# sourceMappingURL=71.59343f81.chunk.js.map