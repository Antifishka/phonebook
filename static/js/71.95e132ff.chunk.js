"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[71],{2071:function(n,e,t){t.r(e),t.d(e,{default:function(){return Rn}});var r,i,o,a,s,u,c=t(9439),d=t(2791),l=t(9434),m=t(4270),p=t(5036),h=t(6916),f=function(n){return n.filter},x=function(n){return n.contacts.items},g=function(n){return n.contacts.isLoading},b=function(n){return n.contacts.error},j=(0,h.P1)([x,f],(function(n,e){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))})),z=t(6355),Z=t(9126),v=t(5218),w=t(5984),y=t(168),C=t(6088),S=t(8445),k=t(1607),q=C.Z.form(r||(r=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),A=C.Z.label(i||(i=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return k.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),T=C.Z.input(o||(o=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return k.r.fontSizes.m}),(function(n){return k.r.fontSizes.s})),I=C.Z.div(a||(a=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),W=(0,C.Z)(S.O)(s||(s=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),F=C.Z.p(u||(u=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),N=t(5705),P=t(2797),E=t(2007),L=t.n(E),R=t(111),B=t(184),U=P.Ry().shape({name:P.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:P.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),_=function(n){var e=n.onAdd,t=(0,l.v9)(x),r=(0,l.I0)(),i=(0,N.TA)({initialValues:{name:"",number:""},validationSchema:U,onSubmit:function(n,i){var o=n.name,a=n.number,s=i.resetForm;console.log(o,a);var u=o.toLowerCase(),c=t.find((function(n){return n.name.toLowerCase()===u}));if(c)return(0,v.ZP)("".concat(o," is already in contacts."),{icon:"\u2139\ufe0f"});var d={name:o,number:a};r((0,p.uK)(d)),v.ZP.success("Contact added!"),e(),s()}}),o=i.values,a=i.errors,s=i.touched,u=i.handleBlur,c=i.handleChange,d=i.handleSubmit,m=(0,w.x0)(),h=(0,w.x0)();return(0,B.jsxs)(q,{onSubmit:d,children:[(0,B.jsx)(R.x,{fontSize:k.r.fontSizes.l,fontWeight:k.r.fontWeights.bold,as:"strong",children:"Create new contact"}),(0,B.jsxs)(A,{htmlFor:m,children:["Name",(0,B.jsx)(I,{children:(0,B.jsx)(z.dfI,{size:15})}),(0,B.jsx)(T,{type:"text",name:"name",id:m,value:o.name,placeholder:"Alexander Repeta",onChange:c,onBlur:u}),a.name&&s.name&&(0,B.jsx)(F,{children:a.name})]}),(0,B.jsxs)(A,{htmlFor:h,children:["Phone number",(0,B.jsx)(I,{children:(0,B.jsx)(z.DNl,{size:14})}),(0,B.jsx)(T,{type:"tel",name:"number",id:h,value:o.number,placeholder:"+38-(012)-345-67-89",onChange:c,onBlur:u}),a.number&&s.number&&(0,B.jsx)(F,{children:a.number})]}),(0,B.jsxs)(W,{type:"submit",children:["Add contact",(0,B.jsx)(Z.im1,{})]})]})},G=_;_.propsType={onAdd:L().func.isRequired};var V,D,M,H,J,K,O,$=t(4164),Y=C.Z.div(V||(V=(0,y.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n    "])),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.sizes.minWidth}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box})),Q=document.querySelector("#modal-root"),X=function(n){var e=n.onClose,t=n.children;(0,d.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,$.createPortal)((0,B.jsx)(R.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,B.jsx)(Y,{children:t})}),Q)},nn=C.Z.form(D||(D=(0,y.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),en=C.Z.label(M||(M=(0,y.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return k.r.fontSizes.s}),(function(n){return n.theme.colors.accent})),tn=C.Z.input(H||(H=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return k.r.fontSizes.m}),(function(n){return k.r.fontSizes.s})),rn=C.Z.div(J||(J=(0,y.Z)(["\n    position: absolute;\n    top: 30px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),on=(0,C.Z)(S.O)(K||(K=(0,y.Z)(["\n    display: flex;\n    align-items: center;;\n    gap: ","px;\n    margin: 0 auto;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[4]})),an=C.Z.p(O||(O=(0,y.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),sn=P.Ry().shape({name:P.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:P.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Number is required")}),un=function(n){var e=n.onUpdate,t=n.id,r=(0,l.v9)(x),i=(0,l.I0)(),o=r.filter((function(n){return n.id===t})),a=(0,N.TA)({initialValues:{name:o[0].name,number:o[0].number},validationSchema:sn,onSubmit:function(n,r){var o=n.name,a=n.number,s=r.resetForm;console.log(o,a);var u={id:t,name:o,number:a};i((0,p.Tk)(u)),v.ZP.success("Contact updated"),e(),s()}}),s=a.values,u=a.errors,c=a.touched,d=a.handleBlur,m=a.handleChange,h=a.handleSubmit,f=(0,w.x0)(),g=(0,w.x0)();return(0,B.jsxs)(nn,{onSubmit:h,children:[(0,B.jsx)(R.x,{fontSize:k.r.fontSizes.l,fontWeight:k.r.fontWeights.bold,as:"strong",children:"Enter your changes"}),(0,B.jsxs)(en,{htmlFor:f,children:["Name",(0,B.jsx)(rn,{children:(0,B.jsx)(z.dfI,{size:15})}),(0,B.jsx)(tn,{type:"text",name:"name",id:f,value:s.name,placeholder:"Alexander Repeta",onChange:m,onBlur:d}),u.name&&c.name&&(0,B.jsx)(an,{children:u.name})]}),(0,B.jsxs)(en,{htmlFor:g,children:["Phone number",(0,B.jsx)(rn,{children:(0,B.jsx)(z.DNl,{size:14})}),(0,B.jsx)(tn,{type:"tel",name:"number",id:g,value:s.number,placeholder:"+38-(012)-345-67-89",onChange:m,onBlur:d}),u.number&&c.number&&(0,B.jsx)(an,{children:u.number})]}),(0,B.jsx)(on,{type:"submit",children:"Update"})]})},cn=un;un.propsType={onUpdate:L().func.isRequired};var dn,ln,mn,pn,hn,fn,xn,gn,bn,jn=t(2609),zn=C.Z.div(dn||(dn=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;   \n\n    "," {\n        gap: ","px; \n    }; \n\n    "," {\n        gap: ","px; \n    };\n"])),(function(n){return n.theme.space[2]}),k.mq[1],(function(n){return n.theme.space[3]}),k.mq[2],(function(n){return n.theme.space[4]})),Zn=C.Z.img(ln||(ln=(0,y.Z)(["\n    border-radius: 50%;\n    overflow: hidden;\n    background-color: #f4f4f4;\n    width: 30px;\n\n    "," {\n        width: 40px;\n        };\n\n    "," {\n        width: 50px;\n        };    \n"])),k.mq[0],k.mq[1]),vn=C.Z.p(mn||(mn=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n    font-size: ",";\n\n    "," {\n        font-size: ",";\n        }; \n\n    "," {\n        font-size: ",";\n        };    \n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.xs}),k.mq[1],(function(n){return n.theme.fontSizes.s}),k.mq[2],(function(n){return n.theme.fontSizes.m})),wn=C.Z.p(pn||(pn=(0,y.Z)(["\n    display: flex;\n    align-items: center;\n    gap: ","px;\n    font-size: ",";\n\n    "," {\n        font-size: ",";\n        };\n\n    "," {\n        font-size: ",";\n        };    \n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.fontSizes.xs}),k.mq[1],(function(n){return n.theme.fontSizes.s}),k.mq[2],(function(n){return n.theme.fontSizes.m})),yn=t(8820),Cn=t(6856),Sn=t(1578),kn=function(n){var e=n.id,t=n.name,r=n.number,i=(0,l.I0)(),o=(0,d.useState)(!1),a=(0,c.Z)(o,2),s=a[0],u=a[1],m=function(){return u((function(n){return!n}))};return(0,B.jsxs)(R.x,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,B.jsxs)(zn,{children:[(0,B.jsx)(Zn,{src:"https://cdn-icons-png.flaticon.com/512/2922/2922506.png",alt:"avatar"}),(0,B.jsxs)(R.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",gridGap:[1,2],children:[(0,B.jsxs)(vn,{children:[(0,B.jsx)(Z.HHm,{}),t]}),(0,B.jsxs)(wn,{children:[(0,B.jsx)(Cn.REU,{}),r]})]})]}),(0,B.jsxs)(R.x,{display:"flex",alignItems:"center",gridGap:[1,2],children:[(0,B.jsx)(jn.z,{type:"button",children:(0,B.jsx)(Sn.ri8,{size:18})}),(0,B.jsx)(jn.z,{type:"button",onClick:m,"aria-label":"Edit contact",children:(0,B.jsx)(Cn.mM_,{size:18})}),(0,B.jsx)(jn.z,{type:"button",onClick:function(){return i((0,p.GK)(e))},children:(0,B.jsx)(yn.VPh,{size:18})})]}),s&&(0,B.jsx)(X,{onClose:m,children:(0,B.jsx)(cn,{onUpdate:m,id:e})})]})},qn=C.Z.ul(hn||(hn=(0,y.Z)(["\n    position: relative;\n    min-width: ",";\n    max-width: ",";\n    margin-left: auto;\n    margin-right: auto;\n    background-color: ",";\n    padding: ","px;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    border-radius: ",";\n    box-shadow: ",";\n\n    text-align: center;\n"])),(function(n){return n.theme.sizes.minWidth}),(function(n){return n.theme.sizes.mediumWidth}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box})),An=C.Z.li(fn||(fn=(0,y.Z)(["\n    width: 100%;\n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    \n    font-size: ",";\n\n    transform: scale(1);\n    transition: ",";\n\n    :not(:first-of-type){\n       border-top: ","; \n    }\n\n    :hover{\n        position: absolute;\n        transform: scale(1.02);\n        width: 100%;\n        right: 0;\n        z-index: 2;\n        padding: ","px;\n        padding-top: ","px;\n        padding-bottom: ","px;\n        \n        border-top: ","; \n        border-radius: ",";\n        box-shadow: ",";\n\n        background-color: ",";\n    } \n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.radii.box}),(function(n){return n.theme.shadows.box}),(function(n){return n.theme.colors.white})),Tn=function(){var n=(0,l.v9)(j);return(0,B.jsx)(B.Fragment,{children:n.length>0?(0,B.jsx)(qn,{children:n.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,B.jsx)(An,{children:(0,B.jsx)(kn,{id:e,name:t,number:r})},e)}))}):(0,B.jsx)(qn,{children:"There are no contacts"})})},In=t(5653),Wn=C.Z.label(xn||(xn=(0,y.Z)(["\n    position: relative;\n    width: 100%;\n"]))),Fn=C.Z.input(gn||(gn=(0,y.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: 26px;\n    padding-right: ","px;\n    width: 100%;\n    font: inherit;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n    \n    background-color: inherit;\n\n    transition: ",";\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.fontSizes.s})),Nn=C.Z.div(bn||(bn=(0,y.Z)(["\n    position: absolute;\n    top: 15px;\n    left: ","px;\n"])),(function(n){return n.theme.space[3]})),Pn=t(3728),En=function(n){var e=n.onClick,t=(0,l.v9)(f),r=(0,l.I0)();return(0,B.jsxs)(R.x,{minWidth:k.r.sizes.minWidth,mb:3,mx:"auto",p:3,textAlign:"left",maxWidth:k.r.sizes.mediumWidth,display:"flex",alignItems:"center",justifyContaent:"center",gridGap:[2,2,3],borderRadius:k.r.radii.box,boxShadow:k.r.shadows.box,backgroundColor:k.r.colors.white,children:[(0,B.jsxs)(Wn,{htmlFor:"",children:[(0,B.jsx)(Nn,{children:(0,B.jsx)(Pn.Vph,{size:17})}),(0,B.jsx)(Fn,{type:"text",value:t,placeholder:"Search by name",onChange:function(n){r((0,In.T)(n.currentTarget.value))}})]}),(0,B.jsx)(jn.z,{onClick:e,"aria-label":"Add contact",children:(0,B.jsx)(Z.im1,{size:18})})]})};En.propsType={onClick:L().func.isRequired};var Ln=t(854);function Rn(){var n=(0,l.I0)(),e=(0,l.v9)(g),t=(0,l.v9)(b),r=(0,d.useState)(!1),i=(0,c.Z)(r,2),o=i[0],a=i[1],s=function(){return a((function(n){return!n}))};(0,d.useEffect)((function(){n((0,p.yF)()),t&&v.ZP.error("No response from server!")}),[n,t]);var u=e&&!t;return(0,B.jsxs)(R.x,{p:"16px 0",as:"main",children:[(0,B.jsx)(m.q,{children:(0,B.jsx)("title",{children:"Your contacts"})}),(0,B.jsx)(En,{onClick:s}),u?(0,B.jsx)(Ln.a,{}):(0,B.jsx)(Tn,{}),o&&(0,B.jsx)(X,{onClose:s,children:(0,B.jsx)(G,{onAdd:s})})]})}}}]);
//# sourceMappingURL=71.95e132ff.chunk.js.map